---
title: "上下文工程"
date: 2025-06-22
draft: false
--- 

过去几年，人工智能领域最聪明的人都在专注于一件事：造一个更大的大脑。他们追逐更多的参数、更好的数据和更巧妙的架构。他们这么做是对的。没有强大的引擎，你什么有趣的东西都造不出来。

但既然我们已经有了这些引擎，游戏规则正在改变。最有趣的工作，正在从“如何让引擎更强大”转向“如何用它来造出有用的东西”。这项新工作有个名字，尽管很多人还没这么叫它：**上下文工程**。它是一门围绕引擎来设计机器的手艺。

如果你眯起眼睛看，这台新机器和一台旧机器非常像。

*   **LLM** 是 **CPU**。核心的“思考”单元。
*   **上下文 (Context)** 是 **RAM**。CPU 的工作内存。
*   **工具 (Tools)** 是 **外设 (Peripherals)**。机器与世界对话的方式。
*   **Agent** 是 **操作系统和应用**。使用硬件来完成工作的软件。

一旦你这么看问题，你就会发现，所有应用的设计，都可以归结为四种主要的架构策略。

## **四种架构**

**1. 手动内存管理 (HLC)**
第一种架构是命令行模式。用户通过对话框，直接与一个裸的 LLM 交互。这本质上是 **HLC**（人类, LLM, 对话）的纯粹形式。此时，用户就像一个程序员，在手动管理机器的内存（上下文）。它强大而灵活，但也很费劲。

**2. 引入操作系统 (HLCAT)**
第二种架构是为机器安装一个操作系统。这就是 Agentic 模式，即 **HLCAT**，在 HLC 的基础上增加了 Agent (A) 和 Tools (T)。你给 Agent 一个高阶目标，它会自行判断何时需要调用外设（工具）来丰富自己的内存（上下文）。这是个巨大的飞跃。

**3. 隐式工程 (AI-Enhanced)**
第三种架构将复杂性完全隐藏起来，我们称之为 **AI-Enhanced** 应用。用户只看到一个他们熟悉的按钮。当他们点击时，应用本身扮演了一位聪明的工程师，在后台完美地装配出正确的上下文，然后把它交给 CPU。这感觉就像魔法。

**4. 打开引擎盖 (Hybrid)**
然而，最强大的架构，或许是第四种——一种Hybrid模式。它从一个优雅的 AI-Enhanced 应用开始，完成初步的上下文构建。然后，它提供一个“在聊天中优化”的链接，让你进入一个已经**预加载了完美上下文**的 HLCAT 命令行。这让你既享受到便利，又不失控制的深度，也是为现有应用赋予超能力的最佳路径。

## **机器里的幽灵**

但这里有一个诡异之处。我们当下的所有工作，都像是在隔靴搔痒。因为我们始终是**通过一台经典计算机的屏幕，去使用一台全新的计算机**。

我们的笔记本和手机，连同它们上面的 Windows 和 iOS，是我们通往这台“新计算机”的笨拙终端。我们用着旧机器的键盘和鼠标，去操作那个由 LLM、上下文和 Agent 构成的、看不见的“新机器”。

这种分离不会永远持续下去。二者终将融合。未来的操作系统本身，就是一个核心的 Agent。未来的硬件会为上下文而设计。那时，你不会去‘运行’一个 AI，你只会与你的电脑交谈，而电脑会理解。到那一天，新旧两台计算机将合二为一。

## **新物理学**

即便在那样的未来，这台新计算机依然要遵循它自己的物理法则。

第一是**内存墙**。RAM 不是无限的。你往上下文里塞的东西越多，CPU 就越难找到正确的信息。上下文工程的手艺，在很大程度上就是内存管理的手艺。

第二是**驱动地狱**。给操作系统装上太多驱动程序混乱的外设，就会导致灾难。一个好的操作系统需要一小套可靠的驱动程序。

## **那么，你应该做什么？**

工作不再是构建 CPU 本身，而是成为使用它的那台机器的架构师。

你可以为专家构建更好的 **HLC** 工具；你可以构建一个更鲁棒的 **HLCAT** 操作系统；或者，在那些可能蕴藏着最大机遇的地方，你可以去构建优雅的 **AI-Enhanced** 应用，然后，作为神来之笔，加上那个“打开引擎盖”的**Hybrid**入口。

最持久的优势，将来自对这门新手艺的精通。你不仅是在设计软件，你也在为那台终将到来的、真正融合的计算机，铺设道路。

前沿阵地已经不再是更大的模型，而是更好的架构。CPU 设计的黄金时代或许正在成熟，但系统架构师的时代才刚刚开始。